"""
ä¸ºä»€ä¹ˆæœ‰æ—¶å€™ç”¨ classï¼Œæœ‰æ—¶å€™ç”¨ functionï¼Ÿ
è®©æˆ‘ä»¬å¯¹æ¯”ä¸‰ç§å†™æ³•ï¼
"""

# ==========================================
# å†™æ³•1ï¼šLeetCode æ ‡å‡†æ ¼å¼ï¼ˆç”¨ classï¼‰
# ==========================================
from typing import List

class Solution:
    """
    è¿™æ˜¯ LeetCode çš„æ ‡å‡†æ ¼å¼
    ä¸ºä»€ä¹ˆè¦ç”¨ classï¼Ÿå› ä¸º LeetCode å¹³å°è§„å®šå¿…é¡»è¿™æ ·å†™ï¼
    """
    def pivotIndex(self, nums: List[int]) -> int:
        """å¯»æ‰¾æ•°ç»„çš„ä¸­å¿ƒç´¢å¼•"""
        total_sum = sum(nums)  # è®¡ç®—æ€»å’Œ
        curr_sum = 0
        
        for i in range(len(nums)):
            # å¦‚æœå·¦è¾¹å’Œ == å³è¾¹å’Œï¼Œé‚£ä¹ˆ i å°±æ˜¯ä¸­å¿ƒç´¢å¼•
            if curr_sum * 2 + nums[i] == total_sum:
                return i
            curr_sum += nums[i]
        
        return -1  # æ²¡æ‰¾åˆ°è¿”å› -1

# LeetCode å¹³å°ä¼šè¿™æ ·è°ƒç”¨ä½ çš„ä»£ç ï¼š
solution = Solution()  # åˆ›å»ºä¸€ä¸ª Solution å¯¹è±¡
result = solution.pivotIndex([1, 7, 3, 6, 5, 6])
print(f"LeetCode æ ¼å¼ç»“æœ: {result}")  # è¾“å‡º: 3


# ==========================================
# å†™æ³•2ï¼šæ™®é€šå‡½æ•°ï¼ˆè‡ªå·±ç»ƒä¹ æ—¶å¯ä»¥è¿™æ ·å†™ï¼‰
# ==========================================

def find_pivot_index(nums):
    """
    è¿™æ˜¯æ™®é€šå‡½æ•°å†™æ³•
    è‡ªå·±ç»ƒä¹ ç®—æ³•æ—¶ï¼Œè¿™æ ·å†™æ›´ç®€å•ï¼
    """
    total_sum = sum(nums)
    curr_sum = 0
    
    for i in range(len(nums)):
        if curr_sum * 2 + nums[i] == total_sum:
            return i
        curr_sum += nums[i]
    
    return -1

# æ™®é€šå‡½æ•°ç›´æ¥è°ƒç”¨ï¼Œæ›´ç®€å•
result = find_pivot_index([1, 7, 3, 6, 5, 6])
print(f"æ™®é€šå‡½æ•°ç»“æœ: {result}")  # è¾“å‡º: 3


# ==========================================
# å†™æ³•3ï¼šç›´æ¥å†™è„šæœ¬ï¼ˆæœ€ç®€å•çš„ç»ƒä¹ æ–¹å¼ï¼‰
# ==========================================

# ç›´æ¥å†™ä»£ç ï¼Œä¸ç”¨å‡½æ•°ä¹Ÿä¸ç”¨ç±»
nums = [1, 7, 3, 6, 5, 6]
total_sum = sum(nums)
curr_sum = 0
pivot = -1

for i in range(len(nums)):
    if curr_sum * 2 + nums[i] == total_sum:
        pivot = i
        break
    curr_sum += nums[i]

print(f"ç›´æ¥è„šæœ¬ç»“æœ: {pivot}")  # è¾“å‡º: 3


# ==========================================
# æ€»ç»“ï¼šä»€ä¹ˆæ—¶å€™ç”¨å“ªç§å†™æ³•ï¼Ÿ
# ==========================================

"""
âœ… ç”¨ classï¼ˆå†™æ³•1ï¼‰çš„æƒ…å†µï¼š
   - åœ¨ LeetCodeã€ç‰›å®¢ç½‘ç­‰åˆ·é¢˜å¹³å°ï¼ˆå¹³å°è¦æ±‚ï¼‰
   - éœ€è¦ä¿å­˜çŠ¶æ€çš„å¤æ‚ç®—æ³•
   - å†™å¤§å‹é¡¹ç›®æ—¶

âœ… ç”¨æ™®é€šå‡½æ•°ï¼ˆå†™æ³•2ï¼‰çš„æƒ…å†µï¼š
   - è‡ªå·±ç»ƒä¹ ç®—æ³•æ—¶ï¼ˆæœ€æ¨èï¼ï¼‰
   - å†™å·¥å…·å‡½æ•°
   - ä»£ç éœ€è¦é‡å¤è°ƒç”¨

âœ… ç›´æ¥å†™è„šæœ¬ï¼ˆå†™æ³•3ï¼‰çš„æƒ…å†µï¼š
   - å¿«é€Ÿæµ‹è¯•ä¸€ä¸ªæƒ³æ³•
   - ä¸€æ¬¡æ€§ä»»åŠ¡
   - å­¦ä¹ åŸºç¡€è¯­æ³•æ—¶

å¯¹äºå­¦ä¹ ç®—æ³•çš„ä½ ï¼Œå»ºè®®ï¼š
1. LeetCode åˆ·é¢˜ â†’ å¿…é¡»ç”¨ classï¼ˆå¤åˆ¶é¢˜ç›®æ¨¡æ¿ï¼‰
2. è‡ªå·±ç»ƒä¹  â†’ ç”¨æ™®é€šå‡½æ•°ï¼ˆæ›´ç®€å•ï¼‰
3. å¿«é€Ÿæµ‹è¯• â†’ ç›´æ¥å†™ï¼ˆæœ€å¿«ï¼‰
"""


# ==========================================
# å®æˆ˜ç¤ºä¾‹ï¼šçœ‹çœ‹ä½ çš„ test.py å¯ä»¥æ€ä¹ˆæ”¹
# ==========================================

print("\n" + "="*50)
print("å®æˆ˜å¯¹æ¯”ï¼šä¸‰ç§å†™æ³•çš„æ•ˆæœå®Œå…¨ä¸€æ ·ï¼")
print("="*50)

# æµ‹è¯•æ•°æ®
test_nums = [1, 7, 3, 6, 5, 6]

# æ–¹æ³•1ï¼šLeetCode æ ¼å¼
sol = Solution()
result1 = sol.pivotIndex(test_nums)

# æ–¹æ³•2ï¼šæ™®é€šå‡½æ•°
result2 = find_pivot_index(test_nums)

# æ–¹æ³•3ï¼šç›´æ¥å†™
result3 = pivot

print(f"LeetCode æ ¼å¼: {result1}")
print(f"æ™®é€šå‡½æ•°:     {result2}")
print(f"ç›´æ¥è„šæœ¬:     {result3}")
print(f"\nä¸‰ä¸ªç»“æœä¸€æ ·å—ï¼Ÿ{result1 == result2 == result3}")  # True


# ==========================================
# ä¸ºä»€ä¹ˆ LeetCode è¦ç”¨ classï¼Ÿ
# ==========================================

"""
æŠ€æœ¯åŸå› ï¼š

1. ç»Ÿä¸€æ ¼å¼ï¼š
   æ‰€æœ‰äººçš„ä»£ç æ ¼å¼ä¸€æ ·ï¼Œæ–¹ä¾¿è‡ªåŠ¨æµ‹è¯•

2. é¢å‘å¯¹è±¡ï¼š
   - self å‚æ•°å¯ä»¥è®©ä½ ä¿å­˜ä¸­é—´ç»“æœ
   - å¯ä»¥æœ‰å¤šä¸ªç›¸å…³çš„æ–¹æ³•
   
3. ä¼ä¸šé¢è¯•ï¼š
   å¾ˆå¤šå…¬å¸é¢è¯•ä¹Ÿç”¨è¿™ç§æ ¼å¼ï¼Œæå‰é€‚åº”

4. è‡ªåŠ¨æµ‹è¯•ï¼š
   LeetCode çš„æµ‹è¯•ç³»ç»Ÿæ˜¯è¿™æ ·å†™çš„ï¼š
   
   solution = Solution()  # åˆ›å»ºå¯¹è±¡
   result = solution.æ–¹æ³•å(æµ‹è¯•æ•°æ®)  # è°ƒç”¨ä½ çš„æ–¹æ³•
   if result == æœŸæœ›ç»“æœ:
       print("é€šè¿‡ï¼")
"""


# ==========================================
# class æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ
# ==========================================

class AdvancedSolution:
    """
    ç”¨ class çš„å¥½å¤„ï¼šå¯ä»¥ä¿å­˜çŠ¶æ€ï¼
    """
    def __init__(self):
        """åˆå§‹åŒ–æ—¶å¯ä»¥è®¾ç½®ä¸€äº›å˜é‡"""
        self.count = 0  # è®°å½•è°ƒç”¨æ¬¡æ•°
        self.history = []  # è®°å½•å†å²ç»“æœ
    
    def pivotIndex(self, nums: List[int]) -> int:
        """æ¯æ¬¡è°ƒç”¨éƒ½ä¼šè®°å½•"""
        self.count += 1  # è°ƒç”¨æ¬¡æ•° +1
        
        result = -1
        total_sum = sum(nums)
        curr_sum = 0
        
        for i in range(len(nums)):
            if curr_sum * 2 + nums[i] == total_sum:
                result = i
                break
            curr_sum += nums[i]
        
        self.history.append(result)  # è®°å½•ç»“æœ
        return result
    
    def get_stats(self):
        """æŸ¥çœ‹ç»Ÿè®¡ä¿¡æ¯"""
        return {
            "è°ƒç”¨æ¬¡æ•°": self.count,
            "å†å²ç»“æœ": self.history
        }

# æµ‹è¯• class çš„å¥½å¤„
print("\n" + "="*50)
print("class çš„å¥½å¤„ï¼šå¯ä»¥ä¿å­˜çŠ¶æ€")
print("="*50)

adv_sol = AdvancedSolution()
adv_sol.pivotIndex([1, 7, 3, 6, 5, 6])
adv_sol.pivotIndex([1, 2, 3])
adv_sol.pivotIndex([2, 1, -1])

stats = adv_sol.get_stats()
print(f"è°ƒç”¨äº† {stats['è°ƒç”¨æ¬¡æ•°']} æ¬¡")
print(f"å†å²ç»“æœ: {stats['å†å²ç»“æœ']}")


# ==========================================
# ç»™ä½ çš„å»ºè®®
# ==========================================

"""
ğŸ¯ å­¦ä¹ ç®—æ³•æ—¶çš„å»ºè®®ï¼š

1. åˆ· LeetCodeï¼Ÿ
   âœ… å¤åˆ¶é¢˜ç›®çš„ class æ¨¡æ¿ï¼Œåœ¨é‡Œé¢å†™ä»£ç 
   âœ… ä¸è¦è‡ªå·±æ”¹æˆå‡½æ•°ï¼ˆä¼šæŠ¥é”™ï¼‰

2. è‡ªå·±ç»ƒä¹ ï¼Ÿ
   âœ… ç”¨æ™®é€šå‡½æ•°å°±è¡Œï¼Œç®€å•æ˜äº†
   
3. å¿«é€Ÿæµ‹è¯•æƒ³æ³•ï¼Ÿ
   âœ… ç›´æ¥å†™è„šæœ¬ï¼Œæœ€å¿«

4. array_practice.py é‚£ç§ï¼Ÿ
   âœ… ç”¨æ™®é€šå‡½æ•°ï¼Œå› ä¸ºæ˜¯ä½ è‡ªå·±ç»ƒä¹ ç”¨çš„

5. test.py è¿™ç§ï¼Ÿ
   âœ… ç”¨ classï¼Œå› ä¸ºæ˜¯ä» LeetCode å¤åˆ¶çš„é¢˜ç›®


ğŸ“ è®°ä½ï¼š
- class ä¸æ˜¯å¿…éœ€çš„
- åªæ˜¯ LeetCode å¹³å°çš„æ ¼å¼è¦æ±‚
- è‡ªå·±ç»ƒä¹ æ—¶ï¼Œæ€ä¹ˆç®€å•æ€ä¹ˆæ¥ï¼
- ç†è§£ç®—æ³•æ€æƒ³æœ€é‡è¦ï¼Œæ ¼å¼ä¸é‡è¦
"""

