"""
LeetCode 724: å¯»æ‰¾æ•°ç»„çš„ä¸­å¿ƒç´¢å¼•
å±•ç¤ºä¸¤ç§å†™æ³•çš„åŒºåˆ«
"""

from __future__ import annotations
from typing import List

print("="*60)
print("LeetCode 724: å¯»æ‰¾æ•°ç»„çš„ä¸­å¿ƒç´¢å¼•")
print("="*60)

# ============================================
# ç‰ˆæœ¬1ï¼šLeetCode æäº¤æ ¼å¼ï¼ˆå¿…é¡»è¿™æ ·å†™ï¼‰
# ============================================
print("\nã€ç‰ˆæœ¬1ï¼šLeetCode æ ¼å¼ã€‘")
print("è¿™æ˜¯æäº¤åˆ° LeetCode æ—¶å¿…é¡»ç”¨çš„æ ¼å¼\n")

class Solution:
    """
    LeetCode è¦æ±‚çš„æ ¼å¼ï¼š
    1. å¿…é¡»æœ‰ class Solution
    2. æ–¹æ³•å¿…é¡»æœ‰ self å‚æ•°
    3. ä¸èƒ½æ”¹å˜ç±»åå’Œæ–¹æ³•å
    """
    def pivotIndex(self, nums: List[int]) -> int:
        """
        å¯»æ‰¾ä¸­å¿ƒç´¢å¼•ï¼š
        ä¸­å¿ƒç´¢å¼•å·¦ä¾§æ‰€æœ‰å…ƒç´ å’Œ = å³ä¾§æ‰€æœ‰å…ƒç´ å’Œ
        """
        total_sum = sum(nums)  # æ€»å’Œ
        curr_sum = 0  # å½“å‰å·¦ä¾§å’Œ
        
        for i in range(len(nums)):
            # å·¦ä¾§å’Œ = curr_sum
            # å³ä¾§å’Œ = total_sum - curr_sum - nums[i]
            # å¦‚æœå·¦ä¾§å’Œ == å³ä¾§å’Œï¼Œå³ï¼š
            # curr_sum == total_sum - curr_sum - nums[i]
            # åŒ–ç®€ä¸ºï¼šcurr_sum * 2 + nums[i] == total_sum
            if curr_sum * 2 + nums[i] == total_sum:
                return i
            curr_sum += nums[i]
        
        return -1  # æ²¡æ‰¾åˆ°è¿”å› -1

# LeetCode ä¼šè¿™æ ·æµ‹è¯•ä½ çš„ä»£ç ï¼š
solution = Solution()  # åˆ›å»º Solution å¯¹è±¡
test1 = solution.pivotIndex([1, 7, 3, 6, 5, 6])
test2 = solution.pivotIndex([1, 2, 3])
test3 = solution.pivotIndex([2, 1, -1])

print(f"æµ‹è¯•1: [1, 7, 3, 6, 5, 6] â†’ ä¸­å¿ƒç´¢å¼•æ˜¯ {test1}")
print(f"æµ‹è¯•2: [1, 2, 3]           â†’ ä¸­å¿ƒç´¢å¼•æ˜¯ {test2}")
print(f"æµ‹è¯•3: [2, 1, -1]          â†’ ä¸­å¿ƒç´¢å¼•æ˜¯ {test3}")


# ============================================
# ç‰ˆæœ¬2ï¼šè‡ªå·±ç»ƒä¹ æ ¼å¼ï¼ˆç®€å•æ˜äº†ï¼‰
# ============================================
print("\n" + "="*60)
print("ã€ç‰ˆæœ¬2ï¼šæ™®é€šå‡½æ•°æ ¼å¼ã€‘")
print("è‡ªå·±ç»ƒä¹ æ—¶å¯ä»¥è¿™æ ·å†™ï¼Œæ›´ç®€å•ï¼\n")

def find_pivot_index(nums: list[int]) -> int:
    """
    æ™®é€šå‡½æ•°ç‰ˆæœ¬ï¼š
    1. ä¸éœ€è¦ class
    2. ä¸éœ€è¦ self
    3. ç›´æ¥è°ƒç”¨ï¼Œç®€å•æ˜äº†
    
    ç®—æ³•æ€æƒ³å®Œå…¨ä¸€æ ·ï¼
    """
    total_sum = sum(nums)
    curr_sum = 0
    
    for i in range(len(nums)):
        if curr_sum * 2 + nums[i] == total_sum:
            return i
        curr_sum += nums[i]
    
    return -1

# ç›´æ¥è°ƒç”¨ï¼Œä¸éœ€è¦åˆ›å»ºå¯¹è±¡
test1 = find_pivot_index([1, 7, 3, 6, 5, 6])
test2 = find_pivot_index([1, 2, 3])
test3 = find_pivot_index([2, 1, -1])

print(f"æµ‹è¯•1: [1, 7, 3, 6, 5, 6] â†’ ä¸­å¿ƒç´¢å¼•æ˜¯ {test1}")
print(f"æµ‹è¯•2: [1, 2, 3]           â†’ ä¸­å¿ƒç´¢å¼•æ˜¯ {test2}")
print(f"æµ‹è¯•3: [2, 1, -1]          â†’ ä¸­å¿ƒç´¢å¼•æ˜¯ {test3}")


# ============================================
# å¯¹æ¯”æ€»ç»“
# ============================================
print("\n" + "="*60)
print("ã€å¯¹æ¯”æ€»ç»“ã€‘")
print("="*60)

print("""
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     ç‰¹ç‚¹        â”‚  LeetCode æ ¼å¼   â”‚   æ™®é€šå‡½æ•°æ ¼å¼   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ éœ€è¦ classï¼Ÿ    â”‚  âœ… å¿…é¡»æœ‰       â”‚  âŒ ä¸éœ€è¦       â”‚
â”‚ éœ€è¦ selfï¼Ÿ     â”‚  âœ… å¿…é¡»æœ‰       â”‚  âŒ ä¸éœ€è¦       â”‚
â”‚ è°ƒç”¨æ–¹å¼        â”‚  å…ˆåˆ›å»ºå¯¹è±¡      â”‚  ç›´æ¥è°ƒç”¨å‡½æ•°    â”‚
â”‚ ä½¿ç”¨åœºæ™¯        â”‚  LeetCode æäº¤   â”‚  è‡ªå·±ç»ƒä¹         â”‚
â”‚ ä»£ç å¤æ‚åº¦      â”‚  ç¨å¤æ‚          â”‚  ç®€å•            â”‚
â”‚ ç®—æ³•æ€æƒ³        â”‚  å®Œå…¨ä¸€æ ·ï¼      â”‚  å®Œå…¨ä¸€æ ·ï¼      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ¯ æ ¸å¿ƒè¦ç‚¹ï¼š
1. ç®—æ³•æ€æƒ³å®Œå…¨ç›¸åŒï¼Œåªæ˜¯æ ¼å¼ä¸åŒ
2. LeetCode åˆ·é¢˜ â†’ å¿…é¡»ç”¨ classï¼ˆå¹³å°è¦æ±‚ï¼‰
3. è‡ªå·±ç»ƒä¹  â†’ ç”¨æ™®é€šå‡½æ•°ï¼ˆæ›´ç®€å•ï¼‰
4. ä¸è¦çº ç»“æ ¼å¼ï¼Œç†è§£ç®—æ³•æ‰æ˜¯å…³é”®ï¼

ğŸ“ ä½ çš„æ–‡ä»¶åº”è¯¥è¿™æ ·ï¼š
- test.py          â†’ LeetCode æ ¼å¼ï¼ˆå› ä¸ºæ˜¯ä»é¢˜ç›®å¤åˆ¶çš„ï¼‰
- array_practice.py â†’ æ™®é€šå‡½æ•°ï¼ˆå› ä¸ºæ˜¯è‡ªå·±ç»ƒä¹ ï¼‰

âœ… ä½ ç°åœ¨çš„å†™æ³•æ˜¯æ­£ç¡®çš„ï¼
""")


# ============================================
# ç®—æ³•åŸç†è®²è§£
# ============================================
print("\n" + "="*60)
print("ã€ç®—æ³•åŸç†ã€‘å¯»æ‰¾ä¸­å¿ƒç´¢å¼•")
print("="*60)

print("""
é¢˜ç›®ï¼šæ‰¾åˆ°æ•°ç»„çš„ä¸­å¿ƒç´¢å¼•ï¼Œä½¿å¾—å·¦ä¾§å…ƒç´ å’Œ = å³ä¾§å…ƒç´ å’Œ

ä¾‹å­: [1, 7, 3, 6, 5, 6]
       â†“  â†“  â†“  â†“  â†“  â†“
ç´¢å¼•:  0  1  2  3  4  5

ç´¢å¼•3 æ˜¯ä¸­å¿ƒï¼š
å·¦ä¾§: 1 + 7 + 3 = 11
å³ä¾§: 5 + 6 = 11  âœ… ç›¸ç­‰ï¼

ç®—æ³•æ€è·¯ï¼š
1. å…ˆç®—å‡ºæ€»å’Œ total_sum = 28
2. éå†æ•°ç»„ï¼Œç»´æŠ¤å½“å‰å·¦ä¾§å’Œ curr_sum
3. å¯¹äºç´¢å¼• iï¼š
   - å·¦ä¾§å’Œ = curr_sum
   - å³ä¾§å’Œ = total_sum - curr_sum - nums[i]
   - å¦‚æœç›¸ç­‰ï¼Œè¿”å› i

æ•°å­¦æ¨å¯¼ï¼š
   å·¦ä¾§å’Œ == å³ä¾§å’Œ
   curr_sum == total_sum - curr_sum - nums[i]
   curr_sum * 2 == total_sum - nums[i]
   curr_sum * 2 + nums[i] == total_sum  â† è¿™å°±æ˜¯ä»£ç ä¸­çš„åˆ¤æ–­æ¡ä»¶ï¼

æ—¶é—´å¤æ‚åº¦: O(n) - åªéå†ä¸€æ¬¡æ•°ç»„
ç©ºé—´å¤æ‚åº¦: O(1) - åªç”¨äº†å‡ ä¸ªå˜é‡
""")

